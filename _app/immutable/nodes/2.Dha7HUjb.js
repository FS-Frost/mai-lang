var Ue=Object.defineProperty;var Be=(o,e,t)=>e in o?Ue(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var d=(o,e,t)=>(Be(o,typeof e!="symbol"?e+"":e,t),t);import{s as me,n as fe,r as Ye,o as De}from"../chunks/scheduler.Bmg8oFKD.js";import{S as de,i as xe,s as N,e as p,t as ke,y as He,d as u,f as b,c as v,z as H,a as x,b as Le,o as h,g as M,h as i,A as ye,B as Ae,j as Ge,k as Ce,n as q,q as Xe,l as re,m as qe,u as Me,v as Ke,w as Ve,x as Fe}from"../chunks/index.B0U4Du-Q.js";import{w as Je}from"../chunks/index.D_GRTHN4.js";const Qe=!0,Et=Object.freeze(Object.defineProperty({__proto__:null,prerender:Qe},Symbol.toStringTag,{value:"Module"})),Ze=["home"],We=Ze.map(o=>o.toString()),Ie=Je();function et(o){return We.includes(o)}const tt="int",je="string",J="fn",pe=";",st=",",B="(",Y=")",G="{",Q="}",ze="=",Oe='"',Se="/",Pe="TOKEN_COMMENT",X="TOKEN_TYPE",T="TOKEN_NAME",ve="TOKEN_INT",se="TOKEN_STRING",K="TOKEN_LITERAL";class rt{constructor(e,t,s){d(this,"filePath");d(this,"row");d(this,"column");this.filePath=e,this.row=t,this.column=s}display(){return`[${this.filePath}:${this.row}:${this.column+1}]`}}class V{constructor(e,t,s){d(this,"location");d(this,"name");d(this,"type");d(this,"value");this.location=e,this.name=t,this.type="",this.value=s}display(){return`[${this.name.padEnd(K.length," ")}]${this.location.display()} ${this.value}`}}class nt{constructor(e,t){d(this,"filePath");d(this,"source");d(this,"cursor");d(this,"column");d(this,"row");d(this,"lines");this.filePath=e,this.source=t,this.lines=t.split(`
`),this.cursor=0,this.column=0,this.row=1}isType(e){return[tt,je].includes(e)}isAlpha(e){return/^[a-zA-Z]$/.test(e)}isAlphaNumeric(e){return/^[a-zA-Z0-9]$/.test(e)}isDigit(e){return/^[0-9]$/.test(e)}isSpace(e){return e===" "||e===`
`||e==="	"||e==="\r"}advanceCursor(){if(this.isNotEmpty()){const e=this.source[this.cursor];this.cursor++,this.column++,e===`
`&&(this.column=0,this.row++)}}isEmpty(){return this.cursor>=this.source.length}isNotEmpty(){return!this.isEmpty()}isEndOfLine(){return this.source[this.cursor]===`
`}skipSpaces(){for(;this.isNotEmpty()&&this.isSpace(this.source[this.cursor]);)this.advanceCursor()}location(){return new rt(this.filePath,this.row,this.column)}display(){let t=this.lines[this.row-1]+`
`;for(let s=0;s<this.column;s++)t+="_";return t+="^",t}logLine(){console.log(this.display())}logLineError(){console.error(this.display())}tokenizeFunction(){let[e,t]=this.nextToken();if(t)return[null,t];if(e==null)return[null,`expecting ${T}, but got null`];if(e.name!==T)return[null,`expecting ${T}, but got ${e.name}`];if(e.value,[e,t]=this.nextToken(),t)return[null,t];if(e==null)return[null,`expecting ${B}, but got null`];if(e.value!==B)return[null,`expecting ${B}, but got ${e.value}`];if([e,t]=this.nextToken(),t)return[null,t];if(e==null)return[null,`expecting ${Y}, but got null`];if(e.value!==Y)return[null,`expecting ${Y}, but got ${e.value}`];if([e,t]=this.nextToken(),t)return[null,t];if(e==null)return[null,`expecting ${G}, but got null`];if(e.value!==G)return[null,`expecting ${G}, but got ${e.value}`];let s=!1;for(;this.isNotEmpty();){if([e,t]=this.nextToken(),t)return[null,t];if(e==null)return[null,"expecting token, but got null"];if(e.name===K&&e.value===Q){s=!0;break}}return s?[null,""]:[null,`expecting ${Q}, but got null`]}nextToken(){for(this.skipSpaces();this.isEmpty();)return[null];const e=this.location(),t=this.source[this.cursor];if(t==Se){if(this.isEmpty())throw new Error("bad comment");if(this.advanceCursor(),this.source[this.cursor]!==Se)throw new Error("bad comment 2");if(this.advanceCursor(),this.skipSpaces(),e.row!=this.row){const l=Pe;return[new V(e,l,"")]}let a="";for(;this.isNotEmpty()&&this.source[this.cursor]!==`
`;)a+=this.source[this.cursor],this.advanceCursor();const c=Pe;return[new V(e,c,a)]}if(this.isAlpha(t)){const n=this.cursor;for(;this.isNotEmpty()&&this.isAlphaNumeric(this.source[this.cursor]);)this.advanceCursor();const a=this.source.substring(n,this.cursor);if(a===J)return[new V(e,J,a)];const c=this.isType(a)?X:T;return[new V(e,c,a)]}if(this.isDigit(t)){const n=this.cursor;for(;this.isNotEmpty()&&this.isDigit(this.source[this.cursor]);)this.advanceCursor();const a=this.source.substring(n,this.cursor);return[new V(e,ve,a)]}if(t===Oe){const n=this.cursor+1;for(;this.isNotEmpty();)if(this.advanceCursor(),this.source[this.cursor]===Oe){this.advanceCursor();break}const a=this.source.substring(n,this.cursor-1);return[new V(e,se,a)]}return[ze,G,Q,B,Y,pe,st].includes(t)?(this.isNotEmpty()&&this.advanceCursor(),[new V(e,K,t)]):[null,`${e.display()}: invalid token at ${t}`]}tokenize(){const e=[];for(;;){const[t,s]=this.nextToken();if(s)throw new Error(s);if(!t)break;e.push(t)}return[e]}}class at{constructor(e){d(this,"lexer");this.lexer=e}parseTokens(e,t){let s="";switch(t){case"go":s+=`package main

`;break;case"php":s+=`<?php
`}for(;e.length>0;){const r=e[0];switch(r.name){case X:s+=this.parseVariableDeclaration(e,t);break;case T:s+=this.parseFunctionCall(e,t);break;case J:s+=this.parseFunction(e,t,1);break;default:const n=`${r.location.display()}: expected ${X} or ${T}, but got ${r.name}: ${r.value}`;throw new Error(n)}s+=`
`}return s}assertNextTokenName(e,...t){const s=e.shift()??null;if(!s){const r=`expected ${t.join(", ")}, but got null`;throw new Error(r)}if(!t.includes((s==null?void 0:s.name)??"")){const r=`${s.location.display()}: expected ${t.join(", ")}, but got ${s.name}: ${s.value}`;throw new Error(r)}return s}assertNextTokenLiteral(e,t){const s=e.shift()??null;if(!s){const r=`expected ${t}, but got null`;throw new Error(r)}if(s.value!==t){const r=`${s.location.display()}: expected ${t}, but got ${s.value}`;throw new Error(r)}return s}assertString(e,t){if(e!==t){const s=`expected string ${e}, but got ${t}`;throw new Error(s)}}parseVariableDeclaration(e,t){const s=this.assertNextTokenName(e,X),r=this.assertNextTokenName(e,T),n=this.assertNextTokenName(e,K);this.assertString(n.value,ze);let a="";switch(s.value){case je:{const l=this.assertNextTokenName(e,se);switch(t){case"go":a=`var ${r.value} ${s.value} = "${l.value}"`;break;case"php":a=`$${r.value} = (${s.value}) "${l.value}";`;break;default:a=`const ${r.value} = "${l.value}";`;break}break}default:{const l=this.assertNextTokenName(e,ve);switch(t){case"go":a=`var ${r.value} ${s.value} = ${l.value}`;break;case"php":a=`$${r.value} = (${s.value}) ${l.value};`;break;default:a=`const ${r.value} = ${l.value};`;break}break}}const c=this.assertNextTokenName(e,K);return this.assertString(c.value,pe),a}parseFunctionCall(e,t){const s=this.assertNextTokenName(e,T),r=this.assertNextTokenName(e,K);this.assertString(r.value,B);const n=this.assertNextTokenName(e,T,ve,se);n.name===se&&(n.value=`"${n.value}"`);const a=this.assertNextTokenName(e,K);this.assertString(a.value,Y);const c=this.assertNextTokenName(e,K);switch(this.assertString(c.value,pe),s.value){case"print":switch(t){case"go":return`println(${n.value})`;case"php":return n.name===T?`printf("%s\\n", $${n.value});`:`printf(${n.value});`;default:return`console.log(${n.value});`}default:switch(t){case"go":return`${s.value}(${n.value})`;case"php":return n.name===T?`${s.value}("%s\\n", $${n.value});`:`${s.value}(${n.value});`;default:return`${s.value}(${n.value});`}}}generateIndent(e){let t="";const s=e*4;for(let r=1;r<=s;r++)t+=" ";return t}parseFunction(e,t,s){const r=this.generateIndent(s-1),n=this.generateIndent(s);let a=this.assertNextTokenName(e,J);a=this.assertNextTokenName(e,T);const c=a.value;this.assertNextTokenLiteral(e,B),this.assertNextTokenLiteral(e,Y),this.assertNextTokenLiteral(e,G);let l="";switch(t){case"go":if(c==="main"){l+=`func ${r}${c}() {
`;break}l+=`${r}${c} := func() {
`;break;default:l+=`${r}function ${c}() {
`;break}for(;e.length>0;){const m=e[0];if(m.value===Q)break;switch(m.name){case X:l+=n+this.parseVariableDeclaration(e,t)+`
`;break;case T:l+=n+this.parseFunctionCall(e,t)+`
`;break;case J:l+=this.parseFunction(e,t,s+1)+`
`;break}}return this.assertNextTokenLiteral(e,Q),l+=`${r}}`,l}}const ot=`
fn main() {
    int num1 = 2;
    print(num1);

    string text = "Hi!";
    print(text);

    fn customPrint() {
        print("called from func");
    }
}
`;function lt(o){let e,t,s="MAI Lang",r,n,a,c,l,m,w,E,F="MAI source code",k,_,g,ne,L,y,Ee="Go",ae,j,A,oe,C,I,ge="JS",le,z,O,ie,S,P,$e="PHP",ce,U,R,ue,Te;return{c(){e=N(),t=p("h1"),t.textContent=s,r=N(),n=p("p"),a=ke(o[4]),c=ke(" "),l=N(),m=p("div"),w=p("div"),E=p("label"),E.textContent=F,k=N(),_=p("div"),g=p("textarea"),ne=N(),L=p("div"),y=p("label"),y.textContent=Ee,ae=N(),j=p("div"),A=p("textarea"),oe=N(),C=p("div"),I=p("label"),I.textContent=ge,le=N(),z=p("div"),O=p("textarea"),ie=N(),S=p("div"),P=p("label"),P.textContent=$e,ce=N(),U=p("div"),R=p("textarea"),this.h()},l(f){He("svelte-1eds6rg",document.head).forEach(u),e=b(f),t=v(f,"H1",{"data-svelte-h":!0}),H(t)!=="svelte-1vjs4wv"&&(t.textContent=s),r=b(f),n=v(f,"P",{class:!0});var he=x(n);a=Le(he,o[4]),c=Le(he," "),he.forEach(u),l=b(f),m=v(f,"DIV",{class:!0});var D=x(m);w=v(D,"DIV",{class:!0});var Z=x(w);E=v(Z,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(E)!=="svelte-pcyajw"&&(E.textContent=F),k=b(Z),_=v(Z,"DIV",{class:!0});var _e=x(_);g=v(_e,"TEXTAREA",{class:!0}),x(g).forEach(u),_e.forEach(u),Z.forEach(u),ne=b(D),L=v(D,"DIV",{class:!0});var W=x(L);y=v(W,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(y)!=="svelte-e4uy0f"&&(y.textContent=Ee),ae=b(W),j=v(W,"DIV",{class:!0});var Ne=x(j);A=v(Ne,"TEXTAREA",{class:!0}),x(A).forEach(u),Ne.forEach(u),W.forEach(u),oe=b(D),C=v(D,"DIV",{class:!0});var ee=x(C);I=v(ee,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(I)!=="svelte-4v4mau"&&(I.textContent=ge),le=b(ee),z=v(ee,"DIV",{class:!0});var be=x(z);O=v(be,"TEXTAREA",{class:!0}),x(O).forEach(u),be.forEach(u),ee.forEach(u),ie=b(D),S=v(D,"DIV",{class:!0});var te=x(S);P=v(te,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),H(P)!=="svelte-1tfbv71"&&(P.textContent=$e),ce=b(te),U=v(te,"DIV",{class:!0});var we=x(U);R=v(we,"TEXTAREA",{class:!0}),x(R).forEach(u),we.forEach(u),te.forEach(u),D.forEach(u),this.h()},h(){document.title="MAI Lang",h(n,"class","has-text-danger svelte-xcim33"),h(E,"class","label"),h(E,"for",""),h(g,"class","textarea svelte-xcim33"),h(_,"class","control"),h(w,"class","field svelte-xcim33"),h(y,"class","label"),h(y,"for",""),h(A,"class","textarea svelte-xcim33"),A.value=o[1],A.readOnly=!0,h(j,"class","control"),h(L,"class","field svelte-xcim33"),h(I,"class","label"),h(I,"for",""),h(O,"class","textarea svelte-xcim33"),O.value=o[2],O.readOnly=!0,h(z,"class","control"),h(C,"class","field svelte-xcim33"),h(P,"class","label"),h(P,"for",""),h(R,"class","textarea svelte-xcim33"),R.value=o[3],R.readOnly=!0,h(U,"class","control"),h(S,"class","field svelte-xcim33"),h(m,"class","langs svelte-xcim33")},m(f,$){M(f,e,$),M(f,t,$),M(f,r,$),M(f,n,$),i(n,a),i(n,c),M(f,l,$),M(f,m,$),i(m,w),i(w,E),i(w,k),i(w,_),i(_,g),ye(g,o[0]),i(m,ne),i(m,L),i(L,y),i(L,ae),i(L,j),i(j,A),i(m,oe),i(m,C),i(C,I),i(C,le),i(C,z),i(z,O),i(m,ie),i(m,S),i(S,P),i(S,ce),i(S,U),i(U,R),ue||(Te=[Ae(g,"input",o[6]),Ae(g,"keyup",o[7])],ue=!0)},p(f,[$]){$&16&&Ge(a,f[4]),$&1&&ye(g,f[0]),$&2&&(A.value=f[1]),$&4&&(O.value=f[2]),$&8&&(R.value=f[3])},i:fe,o:fe,d(f){f&&(u(e),u(t),u(r),u(n),u(l),u(m)),ue=!1,Ye(Te)}}}function it(o,e,t){let s=ot,r="",n="",a="",c="";function l(){try{t(4,c=""),t(1,r=""),t(2,n=""),t(3,a="");const E="source.mai",F=new nt(E,s),[k,_]=F.tokenize();if(_)throw console.error(_),F.logLineError(),new Error(_);console.log({tokens:k});const g=new at(F);t(1,r=g.parseTokens([...k],"go")),t(2,n=g.parseTokens([...k],"js")),t(3,a=g.parseTokens([...k],"php"))}catch(E){console.error(E),t(4,c=`${E}`)}}De(()=>{t(0,s=s.replace(`
`,"")),l()});function m(){s=this.value,t(0,s)}return[s,r,n,a,c,l,m,()=>l()]}class ct extends de{constructor(e){super(),xe(this,e,it,lt,me,{})}}function Re(o){let e,t;return e=new ct({}),{c(){Me(e.$$.fragment)},l(s){Ke(e.$$.fragment,s)},m(s,r){Ve(e,s,r),t=!0},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){re(e.$$.fragment,s),t=!1},d(s){Fe(e,s)}}}function ut(o){let e,t,s=o[0]=="home"&&Re();return{c(){s&&s.c(),e=Ce()},l(r){s&&s.l(r),e=Ce()},m(r,n){s&&s.m(r,n),M(r,e,n),t=!0},p(r,[n]){r[0]=="home"?s?n&1&&q(s,1):(s=Re(),s.c(),q(s,1),s.m(e.parentNode,e)):s&&(Xe(),re(s,1,1,()=>{s=null}),qe())},i(r){t||(q(s),t=!0)},o(r){re(s),t=!1},d(r){r&&u(e),s&&s.d(r)}}}function ht(o,e,t){let s;return De(()=>{Ie.subscribe(c=>{c!=null&&t(0,s=c)});const n=new URLSearchParams(location.search).get("page")??"",a=et(n)?n:"home";Ie.set(a)}),[s]}class ft extends de{constructor(e){super(),xe(this,e,ht,ut,me,{})}}function pt(o){let e,t,s;return t=new ft({}),{c(){e=p("section"),Me(t.$$.fragment),this.h()},l(r){e=v(r,"SECTION",{class:!0});var n=x(e);Ke(t.$$.fragment,n),n.forEach(u),this.h()},h(){h(e,"class","svelte-u22agc")},m(r,n){M(r,e,n),Ve(t,e,null),s=!0},p:fe,i(r){s||(q(t.$$.fragment,r),s=!0)},o(r){re(t.$$.fragment,r),s=!1},d(r){r&&u(e),Fe(t)}}}class gt extends de{constructor(e){super(),xe(this,e,null,pt,me,{})}}export{gt as component,Et as universal};
